<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Teo/Cat</title>
  <link rel="shortcut icon" type="image/png" href="../assets/images/logos/favicon.jpeg" />
  <link rel="stylesheet" href="../assets/css/styles.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/themify-icons/0.1.2/css/themify-icons.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
  <style>
    body {
      background-color: #f4f7fa;
    }

    .table {
      background-color: white;
      border-radius: 0.5rem;
      overflow: hidden;
      margin-top: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .table th {
      background-color: #007bff;
      color: white;
    }

    .table td img {
      max-width: 50px;
      border-radius: 0.25rem;
    }

    .total {
      font-weight: bold;
      color: #007bff;
    }

    .modal-header {
      background-color: #007bff;
      color: white;
    }

    .btn-danger {
      margin: 0;
    }

    .quantity-controls {
      display: flex;
      align-items: center;
    }

    .quantity-controls button {
      border: none;
      background: none;
      color: #007bff;
      font-size: 1.5rem;
    }
  </style>
</head>

<body>
  <!--  Body Wrapper -->
  <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
    data-sidebar-position="fixed" data-header-position="fixed">
    <!-- Sidebar Start -->
    <aside class="left-sidebar">
      <div>
        <div class="brand-logo d-flex align-items-center justify-content-between">
          <a href="./index.html" class="text-nowrap logo-img">
            <img src="../assets/images/logos/1.png" width="180" alt="" />
          </a>
          <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
            <i class="ti ti-x fs-8"></i>
          </div>
        </div>
        <!-- Sidebar navigation-->
        <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
          <ul id="sidebarnav">
            <li class="nav-small-cap">
              <i class="ti ti-menu-2 nav-small-cap-icon fs-4"></i>
              <span class="hide-menu">Menu Principal</span>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" href="index.html">
                <span>
                  <i class="ti ti-home"></i>
                </span>
                <span class="hide-menu">Inicio</span>
              </a>
            </li>
            <li><hr /></li>
            <!-- Dashboard -->
            <li class="sidebar-item">
              <a class="sidebar-link has-arrow" href="#dashboardSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                <span>
                  <i class="ti ti-dashboard"></i>
                </span>
                <span class="hide-menu">Dashboard</span>
              </a>
              <ul id="dashboardSubmenu" class="collapse first-level">
                <li class="sidebar-item">
                  <a href="GestionDesempeno.html" class="sidebar-link">
                    <i class="ti ti-chart-bar"></i>
                    <span class="hide-menu">Gestión De Desempeño</span>
                  </a>
                </li>
              </ul>
            </li>
            <li><hr /></li>
            <!-- Configuración -->
            <li class="sidebar-item">
              <a class="sidebar-link has-arrow" href="#configSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                <span>
                  <i class="ti ti-settings"></i>
                </span>
                <span class="hide-menu">Configuración</span>
              </a>
              <ul id="configSubmenu" class="collapse first-level">
                <li class="sidebar-item">
                  <a href="GestiónDeRoles.html" class="sidebar-link">
                    <i class="ti ti-user-check"></i>
                    <span class="hide-menu">Gestión De Roles</span>
                  </a>
                </li>
              </ul>
            </li>
            <li><hr /></li>
            <!-- Usuarios -->
            <li class="sidebar-item">
              <a class="sidebar-link has-arrow" href="#userSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                <span>
                  <i class="ti ti-users"></i>
                </span>
                <span class="hide-menu">Usuarios</span>
              </a>
              <ul id="userSubmenu" class="collapse first-level">
                <li class="sidebar-item">
                  <a href="GestiónDeUsuarios.html" class="sidebar-link">
                    <i class="ti ti-user-plus"></i>
                    <span class="hide-menu">Gestión De Usuarios</span>
                  </a>
                </li>
                <li class="sidebar-item">
                  <a href="GestiónDeAcceso.html" class="sidebar-link">
                    <i class="ti ti-lock"></i>
                    <span class="hide-menu">Gestión De Acceso</span>
                  </a>
                </li>
              </ul>
            </li>
            <li><hr /></li>
            <!-- Categorías -->
            <li class="sidebar-item">
              <a class="sidebar-link has-arrow" href="#categoriasSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                <span>
                  <i class="ti ti-category"></i>
                </span>
                <span class="hide-menu">Categorías</span>
              </a>
              <ul id="categoriasSubmenu" class="collapse first-level">
                <li class="sidebar-item">
                  <a href="CategoriasProductos.html" class="sidebar-link">
                    <i class="ti ti-box"></i>
                    <span class="hide-menu">Categorías De Productos</span>
                  </a>
                </li>
              </ul>
            </li>
            <li><hr /></li>
            <!-- Compras -->
            <li class="sidebar-item">
              <a class="sidebar-link has-arrow" href="#comprasSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                <span>
                  <i class="ti ti-shopping-cart"></i>
                </span>
                <span class="hide-menu">Compras</span>
              </a>
              <ul id="comprasSubmenu" class="collapse first-level">
                <li class="sidebar-item">
                  <a href="GDeProductos.html" class="sidebar-link">
                    <i class="ti ti-package"></i>
                    <span class="hide-menu">Gestión De Productos</span>
                  </a>
                </li>
                <li class="sidebar-item">
                  <a href="GDeProveedores.html" class="sidebar-link">
                    <i class="ti ti-truck-delivery"></i>
                    <span class="hide-menu">Gestión De Proveedores</span>
                  </a>
                </li>
                <li class="sidebar-item">
                  <a href="GDeCompras.html" class="sidebar-link">
                    <i class="ti ti-receipt"></i>
                    <span class="hide-menu">Gestión De Compras</span>
                  </a>
                </li>
              </ul>
            </li>
            <li><hr /></li>
            <!-- Ventas -->
            <li class="sidebar-item">
              <a class="sidebar-link has-arrow" href="#ventasSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                <span>
                  <i class="ti ti-cash"></i>
                </span>
                <span class="hide-menu">Ventas</span>
              </a>
              <ul id="ventasSubmenu" class="collapse first-level">
                <li class="sidebar-item">
                  <a href="GDeClientes.html" class="sidebar-link">
                    <i class="ti ti-user-circle"></i>
                    <span class="hide-menu">Gestión De Clientes</span>
                  </a>
                </li>
                <li class="sidebar-item">
                  <a href="GDePedidos.html" class="sidebar-link">
                    <i class="ti ti-clipboard-list"></i>
                    <span class="hide-menu">Gestión De Pedidos</span>
                  </a>
                </li>
                <li class="sidebar-item">
                  <a href="GDeVentas.html" class="sidebar-link">
                    <i class="ti ti-report-money"></i>
                    <span class="hide-menu">Gestión De Ventas</span>
                  </a>
                </li>
                <li class="sidebar-item">
                  <a href="GDeDevoluciones.html" class="sidebar-link">
                    <i class="ti ti-exchange"></i>
                    <span class="hide-menu">Gestión De Devoluciones</span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </aside>
    <!-- Sidebar End -->

    <!-- Main Wrapper -->
    <div class="body-wrapper">
      <!-- Header Start -->
      <header class="app-header">
        <nav class="navbar navbar-expand-lg navbar-light">
          <ul class="navbar-nav">
            <li class="nav-item d-block d-xl-none">
              <a class="nav-link sidebartoggler nav-icon-hover" id="headerCollapse" href="javascript:void(0)">
                <i class="ti ti-menu-2"></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-icon-hover" href="javascript:void(0)">
                <i class="ti ti-bell-ringing"></i>
                <div class="notification bg-primary rounded-circle"></div>
              </a>
            </li>
          </ul>
          <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
            <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
              <li class="nav-item">
                <a class="nav-link nav-icon-hover" href="Carrito.html">
                  <i class="ti ti-shopping-cart"></i>
                </a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link nav-icon-hover" href="javascript:void(0)" id="drop2" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  <img src="../assets/images/profile/user-1.jpg" alt="" width="35" height="35" class="rounded-circle">
                </a>
              </li>
            </ul>
          </div>
        </nav>
      </header>
      <!-- Header End -->

      <div class="container-fluid">
        <!-- Main content -->
        <div class="container mt-4">
          <div class="row">
            <!-- Carrito de Compras -->
            <div class="col-md-12">
              <h2>Carrito de Compras</h2>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Imagen</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Total</th>
                    <th>Acción</th>
                  </tr>
                </thead>
                <tbody id="carrito">
                  <tr>
                    <td><img src="../assets/images/producto1.jpg" alt="Producto 1"></td>
                    <td>Producto 1</td>
                    <td>$1</td>
                    <td>
                      <div class="quantity-controls">
                        <button onclick="changeQuantity(this, -1)">&#8722;</button>
                        <input type="number" class="cantidad form-control" value="1" min="1" onchange="updateRowTotal(this)">
                        <button onclick="changeQuantity(this, 1)">&#43;</button>
                      </div>
                    </td>
                    <td class="total">$1</td>
                    <td><button class="btn btn-danger eliminar-producto" title="Eliminar"><i class="ti ti-trash"></i></button></td>
                  </tr>
                  <!-- Más filas según los productos en el carrito -->
                </tbody>
                <tfoot>
                  <tr>
                    <td colspan="4" class="text-end">Monto Total</td>
                    <td id="montoTotal" class="total">$1</td>
                    <td></td>
                  </tr>
                </tfoot>
              </table>
              <a href="catalogoProductos.html" class="btn btn-secondary">Buscar más productos</a>
              <button class="btn btn-primary ms-2" data-bs-toggle="modal" data-bs-target="#orderFormModal">Hacer pedido</button>
            </div>

            <!-- Formulario de pedido en modal -->
            <div class="modal fade" id="orderFormModal" tabindex="-1" aria-labelledby="orderFormModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="orderFormModalLabel">Formulario de Pedido</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form id="orderForm">
                      <div class="mb-3">
                        <label for="numeroDocumento" class="form-label">Número De Documento (Cédula)</label>
                        <input type="text" class="form-control" id="numeroDocumento" required>
                      </div>
                      <div class="mb-3">
                        <label for="nombreApellidos" class="form-label">Nombre Y Apellidos</label>
                        <input type="text" class="form-control" id="nombreApellidos" required>
                      </div>
                      <div class="mb-3">
                        <label for="telefono" class="form-label">Número De Teléfono</label>
                        <input type="tel" class="form-control" id="telefono" required>
                      </div>
                      <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" required>
                      </div>
                      <div class="mb-3">
                        <label for="direccionEnvio" class="form-label">Dirección De Envío</label>
                        <textarea class="form-control" id="direccionEnvio" rows="3" required></textarea>
                      </div>
                      <div class="mb-3">
                        <label for="metodoPago" class="form-label">Métodos De Pago</label>
                        <select class="form-select" id="metodoPago" required>
                          <option value="">Seleccione un método de pago</option>
                          <option value="efectivo">Efectivo</option>
                          <option value="transferencia">Transferencia Bancaria</option>
                        </select>
                      </div>
                      <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="terminosCondiciones" required>
                        <label class="form-check-label" for="terminosCondiciones">Acepto los <a href="#"
                            id="verTerminos">términos y condiciones</a></label>
                      </div>
                      <button type="submit" class="btn btn-primary">Enviar Pedido</button>
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Main Wrapper End -->
  </div>

  <!-- SweetAlert2 Script -->
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
//Cambiar Cantidad de Producto
function changeQuantity(button, delta) {
    const input = button.parentElement.querySelector('.cantidad');
    let quantity = parseInt(input.value) + delta;

    if (quantity < 1) return; // Evitar cantidades negativas
    input.value = quantity;

    updateRowTotal(input);
}

// Actualizar Total de la Fila
function updateRowTotal(input) {
    const row = input.closest('tr');
    const price = parseFloat(row.querySelector('td:nth-child(3)').textContent.replace('$', ''));
    const totalCell = row.querySelector('.total');

    const newTotal = price * parseInt(input.value);
    totalCell.textContent = `$${newTotal.toFixed(2)}`;

    updateTotalCart(); // Actualiza el total del carrito
}

// Actualizar Total del Carrito
function updateTotalCart() {
    const totalCells = document.querySelectorAll('#carrito .total');
    let total = 0;

    totalCells.forEach(cell => {
        total += parseFloat(cell.textContent.replace('$', ''));
    });

    document.getElementById('montoTotal').textContent = `$${total.toFixed(2)}`;
}


//Elimnar un producto del carrito
document.querySelectorAll('.eliminar-producto').forEach(button => {
    button.addEventListener('click', function() {
        const row = this.closest('tr');

        Swal.fire({
            title: '¿Estás seguro?',
            text: "¡No podrás recuperar este producto!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sí, eliminar!'
        }).then((result) => {
            if (result.isConfirmed) {
                row.remove();
                updateTotalCart(); // Actualiza el total después de eliminar
                Swal.fire('Eliminado!', 'El producto ha sido eliminado.', 'success');
            }
        });
    });
});
</script>
</body>
</html>
